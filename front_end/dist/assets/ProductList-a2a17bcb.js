import{_,A as m,u as v,r as c,e as y,B as f,o as g,c as w,i as r,w as k,v as h,l as d,m as P}from"./index-43945a83.js";import{D as x}from"./DataList-e4682188.js";import{P as S}from"./ProductItem-fd5e135e.js";import{s as n}from"./search-ce04aa98.js";import{m as I}from"./request-d304319d.js";import"./el-input-853da7da.js";import"./el-popper-a281cd70.js";const N={class:"content"},q={__name:"ProductList",setup(B){const s=m(),l=v(),e=c(""),o=c({total:0,pageCount:0,list:[]});y(async()=>{if(!s.query.keyword)return;e.value=s.query.keyword;const t=await n({keyword:e.value,pageNo:"1",pageSize:"15",storeId:"0"});t&&(console.log(t.data),o.value=t.data)}),f(()=>s.query.keyword,async t=>{if(e.value=t,!t)return;const a=await n({keyword:e.value,pageNo:"1",pageSize:"15",storeId:"0"});a&&(o.value=a.data)});const i=async()=>{if(!e.value||e.value.trim()==""){I.warning("请输入关键字");return}l.replace({path:"/product/list",query:{keyword:e.value}})},p=async t=>{const a=await n({keyword:e.value,pageNo:t.toStirng(),pageSize:"15",storeId:"0"});a&&(o.value=a.data)};return(t,a)=>(g(),w("main",null,[r("header",null,[k(r("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=u=>e.value=u),placeholder:"请输入关键字"},null,512),[[h,e.value]]),r("button",{onClick:i},"搜索")]),r("div",N,[d(x,{dataSource:o.value,onChangePage:p},{default:P(({data:u})=>[d(S,{data:u},null,8,["data"])]),_:1},8,["dataSource"])])]))}},R=_(q,[["__scopeId","data-v-7325283b"]]);export{R as default};
